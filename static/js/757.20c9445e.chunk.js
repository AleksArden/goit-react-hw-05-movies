"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[757],{4118:function(e,n,r){r.d(n,{y:function(){return t}});var t="https://image.tmdb.org/t/p/w500"},4322:function(e,n,r){r.d(n,{Q:function(){return t}});var t={idle:"idle",loading:"loading",success:"success",error:"error"}},1757:function(e,n,r){r.r(n),r.d(n,{default:function(){return A}});var t,a,i,s,c,o,u,p,d,l=r(5861),f=r(9439),v=r(7757),x=r.n(v),h=r(2791),g=r(1087),m=r(7689),j=r(6299),w=r(168),Z=r(6444),b=Z.ZP.button(t||(t=(0,w.Z)(["\n  margin-left: 24px;\n  margin-top: 24px;\n"]))),k=Z.ZP.div(a||(a=(0,w.Z)(["\n  display: flex;\n  padding: 16px 24px;\n"]))),y=Z.ZP.img(i||(i=(0,w.Z)(["\n  width: 250px;\n  min-height: 375px;\n  object-fit: cover;\n"]))),_=Z.ZP.div(s||(s=(0,w.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: 24px 16px;\n"]))),P=Z.ZP.div(c||(c=(0,w.Z)(["\n  padding: 16px 24px;\n  border-top: 2px solid black;\n  border-bottom: 2px solid black;\n"]))),Q=Z.ZP.ul(o||(o=(0,w.Z)(["\n  list-style: none;\n"]))),U=Z.ZP.li(u||(u=(0,w.Z)(["\n  padding: 4px;\n"]))),D=Z.ZP.h2(p||(p=(0,w.Z)(["\n  margin-left: 24px;\n  margin-top: 24px;\n"]))),F=Z.ZP.p(d||(d=(0,w.Z)(["\n  margin-left: 24px;\n  margin-top: 24px;\n"]))),S=r(4118),C=r(4322),N=r(5849),O=r(184),A=function(){var e=(0,h.useState)(null),n=(0,f.Z)(e,2),r=n[0],t=n[1],a=(0,h.useState)(C.Q.idle),i=(0,f.Z)(a,2),s=i[0],c=i[1],o=(0,m.s0)(),u=(0,m.TH)(),p=(0,m.UO)().movieId;(0,h.useEffect)((function(){var e=function(){var e=(0,l.Z)(x().mark((function e(n){var r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(C.Q.loading),e.prev=1,e.next=4,(0,j.Sg)(n);case 4:r=e.sent,d(r),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),c(C.Q.error);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}();e(p)}),[p]);var d=function(e){var n={title:e.original_title,releaseDate:new Date(e.release_date).getFullYear(),overview:e.overview,genres:e.genres.map((function(e){return e.name})).join(" "),poster:e.poster_path,voteAverage:(10*e.vote_average).toFixed(0)};t(n),c(C.Q.success)};return(0,O.jsxs)(O.Fragment,{children:[s===C.Q.error&&(0,O.jsx)(D,{children:"NOT FOUND"}),s===C.Q.loading&&(0,O.jsx)(F,{children:"Loading..."}),s===C.Q.success&&r&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(b,{type:"button",onClick:function(){var e;return o(null===u||void 0===u||null===(e=u.state)||void 0===e?void 0:e.from)},children:"Go back"}),(0,O.jsxs)(k,{children:[r.poster?(0,O.jsx)(y,{src:"".concat(S.y)+r.poster,alt:"Poster ".concat(r.title)}):(0,O.jsx)(y,{src:N}),(0,O.jsxs)(_,{children:[r.releaseDate?(0,O.jsxs)("h2",{children:[r.title," (",r.releaseDate,")"]}):(0,O.jsx)("h2",{children:r.title}),(0,O.jsxs)("p",{children:["User score ",r.voteAverage,"%"]}),(0,O.jsx)("b",{children:"Overview"}),r.overview?(0,O.jsx)("p",{children:r.overview}):(0,O.jsx)("p",{children:"Not information"}),(0,O.jsx)("b",{children:"Genres"}),r.genres?(0,O.jsx)("p",{children:r.genres}):(0,O.jsx)("p",{children:"Not information"})]})]}),(0,O.jsxs)(P,{children:[(0,O.jsx)("p",{children:"Additional information"}),(0,O.jsxs)(Q,{children:[(0,O.jsx)(U,{children:(0,O.jsx)(g.rU,{to:"cast",state:u.state,children:"Cast"})}),(0,O.jsx)(U,{children:(0,O.jsx)(g.rU,{to:"reviews",state:u.state,children:"Reviews"})})]})]}),(0,O.jsx)(h.Suspense,{fallback:(0,O.jsx)("div",{children:"Loading..."}),children:(0,O.jsx)(m.j3,{})})]})]})}},6299:function(e,n,r){r.d(n,{IV:function(){return d},Sg:function(){return p},bI:function(){return u},wH:function(){return l},wr:function(){return o}});var t=r(5861),a=r(7757),i=r.n(a),s=r(3263).Z.create({baseURL:"https://api.themoviedb.org/3/"}),c="51cea464d1158e7d34cacf903de39a42",o=function(){var e=(0,t.Z)(i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("trending/movie/day",{params:{api_key:c}});case 2:return n=e.sent,r=n.data.results,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,t.Z)(i().mark((function e(n){var r,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("search/movie",{params:{api_key:c,query:n}});case 2:return r=e.sent,t=r.data.results,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=(0,t.Z)(i().mark((function e(n){var r,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("movie/".concat(n),{params:{api_key:c}});case 2:return r=e.sent,t=r.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=(0,t.Z)(i().mark((function e(n){var r,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("movie/".concat(n,"/credits"),{params:{api_key:c}});case 2:return r=e.sent,t=r.data.cast,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,t.Z)(i().mark((function e(n){var r,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("movie/".concat(n,"/reviews"),{params:{api_key:c}});case 2:return r=e.sent,t=r.data.results,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},5849:function(e,n,r){e.exports=r.p+"static/media/poster-not-found.0a5c47d51136d8a88ebe.jpg"}}]);
//# sourceMappingURL=757.20c9445e.chunk.js.map