"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[757],{4118:function(e,r,n){n.d(r,{y:function(){return t}});var t="https://image.tmdb.org/t/p/w500"},4322:function(e,r,n){n.d(r,{Q:function(){return t}});var t={idle:"idle",loading:"loading",success:"success",error:"error"}},1757:function(e,r,n){n.r(r),n.d(r,{default:function(){return P}});var t,a,s,i,c,o=n(5861),u=n(9439),p=n(7757),d=n.n(p),l=n(2791),v=n(1087),f=n(7689),h=n(6299),x=n(168),g=n(6444),m=g.ZP.button(t||(t=(0,x.Z)(["\n  margin-left: 16px;\n  margin-top: 16px;\n"]))),j=g.ZP.div(a||(a=(0,x.Z)(["\n  display: flex;\n  padding: 16px;\n"]))),w=g.ZP.img(s||(s=(0,x.Z)(["\n  width: 250px;\n  height: 375px;\n  object-fit: cover;\n"]))),b=g.ZP.div(i||(i=(0,x.Z)(["\n  padding: 24px;\n"]))),k=g.ZP.div(c||(c=(0,x.Z)(["\n  border-top: 2px solid black;\n  border-bottom: 2px solid black;\n"]))),Z=n(4118),y=n(4322),_=n(5849),Q=n(184),P=function(){var e=(0,l.useState)(null),r=(0,u.Z)(e,2),n=r[0],t=r[1],a=(0,l.useState)(y.Q.idle),s=(0,u.Z)(a,2),i=s[0],c=s[1],p=(0,f.s0)(),x=(0,f.TH)(),g=(0,f.UO)().movieId;(0,l.useEffect)((function(){var e=function(){var e=(0,o.Z)(d().mark((function e(r){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(y.Q.loading),e.prev=1,e.next=4,(0,h.Sg)(r);case 4:n=e.sent,P(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),c(y.Q.error);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}();e(g)}),[g]);var P=function(e){var r={title:e.original_title,releaseDate:new Date(e.release_date).getFullYear(),overview:e.overview,genres:e.genres.map((function(e){return e.name})).join(" "),poster:e.poster_path,voteAverage:(10*e.vote_average).toFixed(0)};t(r),c(y.Q.success)};return(0,Q.jsxs)(Q.Fragment,{children:[i===y.Q.error&&(0,Q.jsx)("h2",{children:"NOT FOUND"}),i===y.Q.loading&&(0,Q.jsx)("p",{children:"Loading..."}),i===y.Q.success&&n&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(m,{type:"button",onClick:function(){var e;return p(null===x||void 0===x||null===(e=x.state)||void 0===e?void 0:e.from)},children:"Go back"}),(0,Q.jsxs)(j,{children:[n.poster?(0,Q.jsx)(w,{src:"".concat(Z.y)+n.poster,alt:"Poster ".concat(n.title)}):(0,Q.jsx)(w,{src:_}),(0,Q.jsxs)(b,{children:[n.releaseDate?(0,Q.jsxs)("h2",{children:[n.title," (",n.releaseDate,")"]}):(0,Q.jsx)("h2",{children:n.title}),(0,Q.jsxs)("p",{children:["User score ",n.voteAverage,"%"]}),(0,Q.jsx)("b",{children:"Overview"}),n.overview?(0,Q.jsx)("p",{children:n.overview}):(0,Q.jsx)("p",{children:"Not information"}),(0,Q.jsx)("b",{children:"Genres"}),n.genres?(0,Q.jsx)("p",{children:n.genres}):(0,Q.jsx)("p",{children:"Not information"})]})]}),(0,Q.jsxs)(k,{children:[(0,Q.jsx)("p",{children:"Additional information"}),(0,Q.jsxs)("ul",{children:[(0,Q.jsx)("li",{children:(0,Q.jsx)(v.rU,{to:"cast",state:x.state,children:"Cast"})}),(0,Q.jsx)("li",{children:(0,Q.jsx)(v.rU,{to:"reviews",state:x.state,children:"Reviews"})})]})]}),(0,Q.jsx)(l.Suspense,{fallback:(0,Q.jsx)("div",{children:"JS..."}),children:(0,Q.jsx)(f.j3,{})})]})]})}},6299:function(e,r,n){n.d(r,{IV:function(){return d},Sg:function(){return p},bI:function(){return u},wH:function(){return l},wr:function(){return o}});var t=n(5861),a=n(7757),s=n.n(a),i=n(3263).Z.create({baseURL:"https://api.themoviedb.org/3/"}),c="51cea464d1158e7d34cacf903de39a42",o=function(){var e=(0,t.Z)(s().mark((function e(){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("trending/movie/day",{params:{api_key:c}});case 2:return r=e.sent,n=r.data.results,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,t.Z)(s().mark((function e(r){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("search/movie",{params:{api_key:c,query:r}});case 2:return n=e.sent,t=n.data.results,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),p=function(){var e=(0,t.Z)(s().mark((function e(r){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("movie/".concat(r),{params:{api_key:c}});case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),d=function(){var e=(0,t.Z)(s().mark((function e(r){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("movie/".concat(r,"/credits"),{params:{api_key:c}});case 2:return n=e.sent,t=n.data.cast,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=(0,t.Z)(s().mark((function e(r){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("movie/".concat(r,"/reviews"),{params:{api_key:c}});case 2:return n=e.sent,t=n.data.results,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},5849:function(e,r,n){e.exports=n.p+"static/media/poster-not-found.0a5c47d51136d8a88ebe.jpg"}}]);
//# sourceMappingURL=757.a73a1437.chunk.js.map